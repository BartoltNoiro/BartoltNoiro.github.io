<html>
    <head>
      <script src= 
        "https://code.jquery.com/jquery-3.4.1.min.js"> 
    </script>
         <!-- The core Firebase JS SDK is always required and must be listed first -->
         <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-app.js"></script>
         <script src="https://www.gstatic.com/firebasejs/7.17.1/firebase-firestore.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.17.2/firebase-auth.js"></script>

        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>  
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
          <style>
            .mepic > .mp4a{
                width:100px;
                float:left;
                height:auto;
                border-radius: 80%;
            }

            .others{
                    margin-left: 63%;
                }
              
            .name{
                font-family: poppins;
                font-weight: 500;

                margin-right: 30px;
                margin-left: 15px;
            }

            body{
                padding-top: 140px;
            }

            #move{
              width:640px;
              height:360px;
              margin: auto;
            }

            #main-container{
              
              background-color: #A8DADC;
            }

            

            .or{
              margin-left: 10%;
            }

            .intro{
              margin-left: 5%;
              padding-top: 20px;
              
            }

            .a-intro{
              margin-left: 5%;
              padding-bottom: 80px;
            }
            
            /* Sticky Footer Classes */

html,
body {
  height: 100%;
}

#page-content {
  flex: 1 0 auto;
}

#sticky-footer {
  flex-shrink: none;
}

/* Other Classes for Page Styling */

body {
  background: #457B9D;
  
}

          </style>
    </head>

    <body>
        <nav class="navbar fixed-top navbar-expand-lg navbar-light scrolling-navbar" style="background-color: #F1FAEE;">
            <div class = "mepic">
              <video class="mp4a" playsinline="playsinline" autoplay="autoplay" muted="muted" loop="loop">
                <source src="https://thumbs.gfycat.com/HastyHardAdder-mobile.mp4" type="video/mp4" style="width: 100%;">
              </video>
            </div>

            <div class = "name">Raphael Torres</div>

            <!--<a class="navbar-brand" href="#">Navbar</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
              <span class="navbar-toggler-icon"></span>
            </button>    -->
          
            <div class="others" id="navbarSupportedContent">
              <ul class="navbar-nav mr-auto">
                <li class="nav-item active">
                  <p class="nav-link" href="#" id="tt">Home <span class="sr-only">(current)</span></p>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">Link</a>
                </li>
                <!--<li class="nav-item dropdown">
                  <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Dropdown
                  </a>
                  <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" href="#">Action</a>
                    <a class="dropdown-item" href="#">Another action</a>
                    <div class="dropdown-divider"></div>
                    <a class="dropdown-item" href="#">Something else here</a>
                  </div>
                </li>  -->
                <li class="nav-item">
                  <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
                </li>
              </ul>


              
            </div>
          </nav>
          
      <main>
        <div class="container" id="main-container">
          <!--Carousel-->
          <div id="move" class="carousel slide" data-ride="carousel" data-interval="3000">
            <div class="carousel-inner">
              <div class="carousel-item active">
                <img class="d-block w-100" src="viper.jpg" alt="First slide" id="paolo">
                <div class="carousel-caption">
                  <h3>"Welcome to My WOrlD!!"</h3>
                  <p>-Viper from Valorant</p>
                </div>
              </div>
              <div class="carousel-item">
                <img class="d-block w-100" src="witcher.jpg" alt="Second slide" id="paolo">
              </div>
              <div class="carousel-item">
                <img class="d-block w-100" src="janken.jpg" alt="Third slide" id="paolo">
                <div class="carousel-caption">
                  <p>Jan Ken GUU!</p>
                </div>
              </div>
            </div>
          </div>
          <!--end carousel-->

            <!--INTRO-->
            <div class="intro">
            <h3>Short Introduction</h3>
<p class="a-intro" id="firebase-intro">  <!--where data for Intro go in-->
  
            <!--<figure class="figure"><img class="rounded img-fluid figure-img" src="highschool.jpg" alt="This is my face.." style="width: 320px;" style="height: 180px;">
                <figcaption class="figure-caption">Lorem ipsum dolor</figcaption>
            </figure>  not sure if i need it-->
          </div>
            
            <!--Educations-->
          <div class="post-body">
            <h4>Educations</h4>  
            <div class="row">
                <div class="col-md-6">
                    <figure class="figure"><img class="rounded img-fluid figure-img" src="dlsu.jpg" alt="DLSU">
                        <figcaption class="figure-caption">De La Salle University</figcaption>
                    </figure>
                </div>
                <div class="col">
                    <ul id="educate"></ul> <!--where data for Educations go in-->
                </div>
            </div>
            
            <!--Organizations-->
            <h4>Organizations</h4>
            <p>Before the Quarantine, the main org that I was in was batchgov CATCH2T21. I was in documents and logistics, handling papers and such. </p>
            <div class="row"> 
                <div class="col">
                    <ul id="orgs"></ul> <!--where data for Organizations go in-->
                </div>
                <div class="col-md-6">
                    <figure class="figure"><img class="rounded img-fluid figure-img" src="CATCH2T21_post_stamp.PNG" alt="CATCH2T21 logo" style="width: 180px;" style="height: 180px;">
                        <figcaption class="figure-caption">CATCH2T21 logo</figcaption>
                    </figure>
                </div>
            </div>  

            <!--Works-->
            <h4>Works</h4>
            <ul id="workwork"></ul>
            <figure class="figure"><img class="rounded img-fluid figure-img" src="witcher.jpg" alt="A generic square placeholder image with rounded corners in a figure.">
              <figcaption class="figure-caption">joke lang i'm not a developer of witcher...</figcaption>
          </figure>
        </div>


          <div class="intro">
            <h3>Short Introduction</h3>
            <p>Heluu, My name is Raph, and welcome to my world! I'm a student from DLSU undertaking the course BS-IT. What I usually do in my free time is play Valorant, watch anime or play some single-player games. I recently just finished Violet Evergarden and Kaguya-sama and both of them were amazing in their own way. Hunter x Hunter is one of my favorite anime I would say. 
              <span id="long">LONGADOG</span></p>
          </div>
          
        </div>
      </main>


      <!-- Footer -->
      <body class="d-flex flex-column">
        <footer id="sticky-footer" class="py-4 bg-dark text-white-50">
          <div class="container text-center">
            <p class="lead text-white-50">Contact Links</p>
            <small><a href="https://twitter.com/BartoltNoiro"><img id = "twitter" src="twitter.png" alt="Twitter" width="30px" ></a></small>
            <small><a href="https://www.linkedin.com/in/raphael-torres-695a5a1b4/"><img id = "linkedin" src="linkedin.png" alt="linkedin" width="30px" ></a></small>
            <small><a href="https://github.com/BartoltNoiro"><img id = "github" src="github.png" alt="Github" width="30px" ></a></small>
          </div>
        </footer>
      </body>
    </body>
</html>



<!--JS PARTS-->
<script>
  //for the scroll
  $("#tt").click(function () {
    console.log("loser");
    var target = $("#long");
    $("html, body").animate( 
      { scrollTop: target.offset().top -2000}, 'slow'); 
  });




  //Your web app's Firebase configuration
        var firebaseConfig = {
            apiKey: "AIzaSyDM6Mlnj3z2T4IhXi5ZUQm17TvJItbwOqI",
            authDomain: "ccapdev-resume-7b975.firebaseapp.com",
            databaseURL: "https://ccapdev-resume-7b975.firebaseio.com",
            projectId: "ccapdev-resume-7b975",
            storageBucket: "ccapdev-resume-7b975.appspot.com",
            messagingSenderId: "818994617115",
            appId: "1:818994617115:web:e64bb5eac42dfdea5ed1be"
    };
        // Initialize Firebase
        var defaultProject = firebase.initializeApp(firebaseConfig);

        var db = firebase.firestore()  

        $(document).ready(function(){


        //GETTING DATA  manually for each MOSTLY WRONG
        db.collection("organizations").get().then(function(snapshot){
             snapshot.forEach(function(doc){
                let name = doc.data().name;
                let position = doc.data().position;
                $("#name").text("Organization name: " + name);
                $("#pos").text("School: " + position);
            })
        })
      });  


      const education = document.querySelector("#educate");
      const introduce = document.querySelector("#firebase-intro");
      const organization = document.querySelector("#orgs");
      const workproduct = document.querySelector("#workwork");


        
        //create  element and render EDUCATIONS 
        function renderEdu(doc){
            let li = document.createElement('li');
            let degree = document.createElement('span');
            let school = document.createElement('span');
            let year_end = document.createElement('span');
            let year_start = document.createElement('span');

            li.setAttribute('data-id', doc.id);
            degree.textContent = doc.data().degree + " ";
            school.textContent = doc.data().school+ " ";
            year_start.textContent = doc.data().year_start+ "-";
            year_end.textContent = doc.data().year_end+ " ";

            li.appendChild(degree);
            li.appendChild(school);
            li.appendChild(year_start);
            li.appendChild(year_end);

            education.appendChild(li);

    
        }


        db.collection('educations').get().then((snapshot) => {
            snapshot.docs.forEach(doc => {
                renderEdu(doc);
            })
        })


        //INTRO
        function renderIntro(doc){
            let d_intro = document.createElement('span');
           
            d_intro.textContent = doc.data().value;
            
            console.log("INtro here ")
            console.log(introduce);
            introduce.appendChild(d_intro);
        }

        db.collection('others').get().then((snapshot) => {
          snapshot.docs.forEach(doc => {
            renderIntro(doc);
          })
        })

        //ORGS
        function renderOrgs(doc){
            let li = document.createElement('li');
            let name = document.createElement('span');
            let position = document.createElement('span');
            let year_end = document.createElement('span');
            let year_start = document.createElement('span');

            li.setAttribute('data-id', doc.id);
            name.textContent = doc.data().name + " ";
            position.textContent = doc.data().position+ " ";
            year_start.textContent = doc.data().year_start+ "-";
            year_end.textContent = doc.data().year_end+ " ";

            li.appendChild(name);
            li.appendChild(position);
            li.appendChild(year_start);
            li.appendChild(year_end);

            console.log("ORG HERE ");
            console.log(organization);
            organization.appendChild(li);

            console.log(organization);
        }

        db.collection('organizations').get().then((snapshot) => {
          snapshot.docs.forEach(doc => {
            renderOrgs(doc);
          })
        })
        

        //WORKS
        function renderWorks(doc){
    let li = document.createElement('li');
    
    let name = document.createElement('span');
    let lab = document.createElement('span');
    let year_end = document.createElement('span');
    

    li.setAttribute('data-id', doc.id);
    lab.textContent = doc.data().lab + " ";
    name.textContent = doc.data().name+ " ";
    year_end.textContent = doc.data().year_end+ " ";
    

    li.appendChild(lab);
    li.appendChild(name);
    li.appendChild(year_end);
    
    
    workproduct.appendChild(li);
  }

    function call_work(){
    workproduct.innerHTML=""
    db.collection('works').get().then((snapshot) => {
      snapshot.docs.forEach(doc => {
        renderWorks(doc);
      })
    })
  }
  call_work(); //end of WORK
</script>
